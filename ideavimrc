" Source your .vimrc
" source ~/.vimrc

let mapleader = " "

" -- Suggested options --
" Show a few lines of context around the cursor. Note that this makes the
" text scroll if you mouse-click near the start or end of the window.
set incsearch " do incremental searching.
set which-key " disable the timeout option
set notimeout " increase the timeoutlen (default: 1000)
set timeoutlen = 5000
set clipboard+=unnamed " yank to system clipboard
set highlightedyank
set scrolloff=8
set ideajoin
set showmode
set surround
set relativenumber number
set commentary
" Press `s` to activate AceJump
" map s :action AceAction<CR>
" map S :action AceTargetAction<CR>
set easymotion
set NERDTree
set vim-paragraph-motion
set ReplaceWithRegister
set ideastatusicon=gray
set idearefactormode=visual
" set textobj-entire
" set exchange

" -- Map IDE actions to IdeaVim -- https://jb.gg/abva4t
" Find more examples here: https://jb.gg/share-ideavimrc
" Surround
map <leader>' ysiw'
map <leader>" ysiw"
map <leader>( ysiw(
map <leader>) ysiw(
map <leader>* ysiw*
map <leader>{ ysiw{
map <leader>} ysiw}
map <leader>[ ysiw[
map <leader>] ysiw]

map <leader>a <Action>(Annotate)
map <leader>h <Action>(Vcs.ShowTabbedFileHistory)
map <leader>n <Action>(VcsShowNextChangeMarker)
map <leader>p <Action>(VcsShowPrevChangeMarker)
map <leader>e <Action>(GotoNextError)
map <leader>u <Action>(Vcs.RollbackChangedLines)
map <leader>U <Action>(ChangesView.Revert)

map <leader>b <Action>(ToggleLineBreakpoint)
map <leader>s <Action>(FileStructurePopup)

" map <leader>n <Action>(ActivateProjectToolWindow)
map <leader>r <Action>(RenameElement)
map <leader>z <Action>(ToggleDistractionFreeMode)

map <leader>i ~hi " Toggle case and start typing. E.g. `<leader>iget`: `property` -> `getProperty`
vmap <leader>u d~h " Remove selection and toggle case. E.g. `v2l<leader>u`: `getProperty` -> `property`

" ctr alt enter
map <C-A-CR> <Action>(ShowErrorDescription)

" NERDTree
" map <leader>a <Plug>(NERDTreeToggle)

" map \r <Action>(ReformatCode) "Map \r to the Reformat Code action
" map <leader>d <Action>(Debug) "Map <leader>d to start debug

" map <S-Space> <Action>(GotoNextError)

map Q gq " Don't use Ex mode, use Q for formatting.

" map \b <Action>(ToggleLineBreakpoint) " Map \b to toggle the breakpoint on the current line

imap jj <Esc> " Выход из режима редактирования

" Навигация в инсерт моде
imap <C-h> <Left>
imap <C-l> <Right>
imap <C-j> <Down>
imap <C-k> <Up>

" Не копирует то что было заменено вставко
xnoremap p "_dP
" не копирует то что было удалено
" nnoremap d "_d
" xnoremap d "_d

" Свич навигации в конец и начало строки
xnoremap $ ^
xnoremap ^ $
" Свич навигации след пред символ
nnoremap # *
nnoremap * #


" ~ - toggle lower/upper case on symbol
" # - to next symbol declaration
" <A-r> - rename
" <leader>r - refactoring rename
" ------------------ new -----------------
nnoremap <Leader>rf :action RenameFile<CR>
nnoremap <Leader>re :action RenameElement<CR>
nnoremap <leader>sn :action ViewNavigationBar<CR>
nnoremap <leader>sm :action ViewMainMenu<CR>
nnoremap <Leader>sw :action SurroundWith<CR>
